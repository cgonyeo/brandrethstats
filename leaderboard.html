<!DOCTYPE HTML>
<html>
	<head>
		<title>Brandreth Statistics</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
		<link href="/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" media="screen">
		<style>
			body {
				padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
			}
		</style>

		<script type="text/javascript" src="https://www.google.com/jsapi"></script>
		<script type="text/javascript">
			google.load('visualization', '1.0', {'packages':['corechart']});

			google.setOnLoadCallback(drawChart);

			function drawChart() {
				var data = new google.visualization.arrayToDataTable(
					DATASET1
				);

				var options = {
					title: 'Brandreth Trip Count Leaderboard',
					legend: {'position':'none'},
					chartArea: {left:"auto", top:50, width:"auto", height:"100%"},
					vAxis: {textStyle: {fontSize: 16}}
				};

				var chart = new google.visualization.BarChart(document.getElementById('trip_leaderboard_div'));
				chart.draw(data, options);
			}

			function generateFilterURL() {
				var source = document.getElementById('source');
				var sourceSelection = source.options[source.selectedIndex].value.replace(/[^a-z0-9]/gi, '_').toLowerCase();

				var url = '/leaderboard/' + sourceSelection;
				window.location = url;
			}
		</script>
		
	</head>
	<body>
		<div class="navbar navbar-inverse navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="brand" href="./">Brandreth Statistics</a>
					<div class="nav-collapse collapse">
						<ul class="nav">
							<li class="active"><a href="/leaderboard">Leaderboard</a></li>
							<li><a href="/stats">Statistics</a></li>
							<li><a href="/trips">Trips</a></li>
							<li><a href="/visitors">Visitors</a></li>
							<li><a href="/search">Search</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>	
		<div class="span3 bs-docs-sidebar">
			<p>Source</p>
			<select id="source">
				<option>Any</option>
				SOURCES
			</select>
			<button class="btn btn-large" type="button" id="refresh" onclick='generateFilterURL()'>Refresh</button>
		</div>
		<div class="span9">
			<div id='trip_leaderboard_div' style="height:GRAPH_HEIGHTpx;"></div>
		</div>
	</body>
</html>
